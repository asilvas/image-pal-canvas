!function(r){function t(e){if(n[e])return n[e].exports;var u=n[e]={i:e,l:!1,exports:{}};return r[e].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:e})},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="",t(t.s=6)}([function(r,t,n){"use strict";function e(r,t){var n={};for(var e in r)t.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e]);return n}var u=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r};r.exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.hasAlpha,n=r.maxColors,o=r.minDensity,l=r.cubicCells,a=r.mean,s=r.order,v=e(r,["hasAlpha","maxColors","minDensity","cubicCells","mean","order"]);if("boolean"!=typeof t)throw new Error("options.hasAlpha is required");return u({hasAlpha:t,maxColors:Math.min(Math.max(1,n),32)||10,minDensity:Math.min(Math.max(.001,o),1)||.005,cubicCells:Math.min(Math.max(3,l),4)||4,mean:!1!==a,order:"density"===s?s:"distance"},v)}},function(r,t,n){"use strict";function e(r,t){return[Math.max(0,Math.ceil(Math.min(r[0],1)*t)-1),Math.max(0,Math.ceil(Math.min(r[1],1)*t)-1),Math.max(0,Math.ceil(Math.min(r[2],1)*t)-1)]}function u(r){var t=r.toString(16);return 1===t.length?"0"+t:t}function o(r,t,n){return"#"+u(r)+u(t)+u(n)}function l(r){return r.distance=r.xyz[0]+10*r.xyz[1]+100*r.xyz[2]}r.exports=function(r,t){var n=t.hasAlpha,u=t.maxColors,a=t.minDensity,s=t.cubicCells,v=t.mean,i=t.order,c=t.applyColor,h=t.colorPlacer,f=void 0,H=void 0,p=void 0,g=void 0,d=new Array(s),m=new Array(Math.pow(s,3));for(f=0,g=0;f<s;f++)for(d[f]=new Array(s),H=0;H<s;H++)for(d[f][H]=new Array(s),p=0;p<s;p++,g++)d[f][H][p]=m[g]=[];var b=n?4:3,x=void 0,y=void 0,T=Math.floor(r.length/b);for(x=0,g=0;g<T;x+=b,g++){y={rgb:[r[x],r[x+1],r[x+2]],alpha:n?r[x+3]:255},c&&c(y),y.xyz=h(y),y.distance=l(y);var M=e(y.xyz,s);d[M[0]][M[1]][M[2]].push(y)}m.sort(function(r,t){return r.length>t.length?-1:r.length<t.length?1:0});var L=m.map(function(r){return{density:r.length/T,colors:r}});L=L.filter(function(r){return r.density>=a}),L.length>u&&(L=L.slice(0,u));var w=L.map(function(r){if(v){var t=r.colors.reduce(function(r,t){return r.r+=t.rgb[0],r.g+=t.rgb[1],r.b+=t.rgb[2],r},{r:0,g:0,b:0}),n=r.colors.length;y={rgb:[Math.min(255,Math.round(t.r/n)),Math.min(255,Math.round(t.g/n)),Math.min(255,Math.round(t.b/n))],alpha:r.colors[0].alpha},c&&c(y),y.xyz=h(y)}else{var e=r.colors.sort(function(r,t){return r.distance>t.distance?-1:r.distance<t.distance?1:0});y=e[Math.floor(r.colors.length/2)]}return y.hex=o(y.rgb[0],y.rgb[1],y.rgb[2]),y.density=r.density,y.distance=l(y),y});return"distance"===i&&(w=w.sort(function(r,t){return r.distance>t.distance?-1:r.distance<t.distance?1:0})),w}},function(r,t,n){"use strict";function e(r,t){var n={};for(var e in r)t.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e]);return n}var u=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r};r.exports=function(r,t,n){var o=t.srcUrl,l=t.width,a=t.height,s=t.imageEl,v=t.canvasEl,i=t.inputEl,c=t.onProcess,h=e(t,["srcUrl","width","height","imageEl","canvasEl","inputEl","onProcess"]);a||(l=l||100);var f=s||new Image,H=v||document.createElement("canvas"),p=H.getContext("2d"),g=function(){if(l){var t=f.naturalHeight/f.naturalWidth;H.width=l,H.height=Math.round(l*t)}else{var e=f.naturalWidth/f.naturalHeight;H.height=a,H.width=Math.round(a*e)}p.drawImage(f,0,0,H.width,H.height);var o=p.getImageData(0,0,H.width,H.height);"function"==typeof c&&c();var s=r(o.data,u({hasAlpha:!0},h));n(null,s)},d=function(r,t){return n(t)};f.addEventListener("load",g,!1),f.addEventListener("error",d,!1),o&&(f.src=o);var m=void 0;return i&&(m=function(r){var t=new FileReader;t.onload=function(r){f.src=r.target.result},t.readAsDataURL(r.target.files[0])},i.addEventListener("change",m,!1)),f.complete&&f.naturalWidth&&f.naturalHeight&&g(),{unregister:function(){f.removeEventListener("load",g,!1),f.removeEventListener("error",d,!1),m&&i.removeEventListener("change",m,!1)}}}},,,,function(r,t,n){"use strict";var e=n(7),u=function(r){return r&&r.__esModule?r:{default:r}}(e);window.imagePalCanvasHsluv=u.default},function(r,t,n){"use strict";var e=n(8),u=n(2);r.exports=function(r,t){u(e,r,t)}},function(r,t,n){"use strict";function e(r,t){var n={};for(var e in r)t.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e]);return n}function u(r){r.hsluv=i([r.rgb[0]/256,r.rgb[1]/256,r.rgb[2]/256])}function o(r){var t=r.hsluv[2]<8||r.hsluv[2]>97;return[t?0:r.hsluv[0]/360,t?0:r.hsluv[1]/100,r.hsluv[2]/100]}var l=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},a=n(0),s=n(1),v=n(9),i=v.rgbToHsluv;r.exports=function(r,t){var n=t.applyColor,v=t.colorPlacer,i=e(t,["applyColor","colorPlacer"]),c=l({applyColor:n||u,colorPlacer:v||o},a(i));return s(r,c)}},function(r,t,n){"use strict";var e,u;!function(){var o=function(){};o.cca=function(r,t){var n=r.charCodeAt(t);if(n==n)return n},o.substr=function(r,t,n){return null!=t&&0!=t&&null!=n&&n<0?"":(null==n&&(n=r.length),t<0?(t=r.length+t)<0&&(t=0):n<0&&(n=r.length+n-t),r.substr(t,n))};var l=function(){};l.parseInt=function(r){var t=parseInt(r,10);return 0!=t||120!=o.cca(r,1)&&88!=o.cca(r,1)||(t=parseInt(r)),isNaN(t)?null:t};var a=function(){};a.hex=function(r,t){var n="";do{n="0123456789ABCDEF".charAt(15&r)+n,r>>>=4}while(r>0);if(null!=t)for(;n.length<t;)n="0"+n;return n};var s=s||{};s.Geometry=function(){},s.Geometry.intersectLineLine=function(r,t){var n=(r.intercept-t.intercept)/(t.slope-r.slope);return{x:n,y:r.slope*n+r.intercept}},s.Geometry.distanceFromOrigin=function(r){return Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))},s.Geometry.distanceLineFromOrigin=function(r){return Math.abs(r.intercept)/Math.sqrt(Math.pow(r.slope,2)+1)},s.Geometry.perpendicularThroughPoint=function(r,t){var n=-1/r.slope;return{slope:n,intercept:t.y-n*t.x}},s.Geometry.angleFromOrigin=function(r){return Math.atan2(r.y,r.x)},s.Geometry.normalizeAngle=function(r){var t=2*Math.PI;return(r%t+t)%t},s.Geometry.lengthOfRayUntilIntersect=function(r,t){return t.intercept/(Math.sin(r)-t.slope*Math.cos(r))},s.Hsluv=function(){},s.Hsluv.getBounds=function(r){var t,n=[],e=Math.pow(r+16,3)/1560896;t=e>s.Hsluv.epsilon?e:r/s.Hsluv.kappa;for(var u=0;u<3;)for(var o=u++,l=s.Hsluv.m[o][0],a=s.Hsluv.m[o][1],v=s.Hsluv.m[o][2],i=0;i<2;){var c=i++,h=(284517*l-94839*v)*t,f=(838422*v+769860*a+731718*l)*r*t-769860*c*r,H=(632260*v-126452*a)*t+126452*c;n.push({slope:h/H,intercept:f/H})}return n},s.Hsluv.maxSafeChromaForL=function(r){for(var t=s.Hsluv.getBounds(r),n=1.7976931348623157e308,e=0;e<2;){var u=e++,o=s.Geometry.distanceLineFromOrigin(t[u]);n=Math.min(n,o)}return n},s.Hsluv.maxChromaForLH=function(r,t){for(var n=t/360*Math.PI*2,e=s.Hsluv.getBounds(r),u=1.7976931348623157e308,o=0;o<e.length;){var l=e[o];++o;var a=s.Geometry.lengthOfRayUntilIntersect(n,l);a>=0&&(u=Math.min(u,a))}return u},s.Hsluv.dotProduct=function(r,t){for(var n=0,e=0,u=r.length;e<u;){var o=e++;n+=r[o]*t[o]}return n},s.Hsluv.fromLinear=function(r){return r<=.0031308?12.92*r:1.055*Math.pow(r,.4166666666666667)-.055},s.Hsluv.toLinear=function(r){return r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92},s.Hsluv.xyzToRgb=function(r){return[s.Hsluv.fromLinear(s.Hsluv.dotProduct(s.Hsluv.m[0],r)),s.Hsluv.fromLinear(s.Hsluv.dotProduct(s.Hsluv.m[1],r)),s.Hsluv.fromLinear(s.Hsluv.dotProduct(s.Hsluv.m[2],r))]},s.Hsluv.rgbToXyz=function(r){var t=[s.Hsluv.toLinear(r[0]),s.Hsluv.toLinear(r[1]),s.Hsluv.toLinear(r[2])];return[s.Hsluv.dotProduct(s.Hsluv.minv[0],t),s.Hsluv.dotProduct(s.Hsluv.minv[1],t),s.Hsluv.dotProduct(s.Hsluv.minv[2],t)]},s.Hsluv.yToL=function(r){return r<=s.Hsluv.epsilon?r/s.Hsluv.refY*s.Hsluv.kappa:116*Math.pow(r/s.Hsluv.refY,.3333333333333333)-16},s.Hsluv.lToY=function(r){return r<=8?s.Hsluv.refY*r/s.Hsluv.kappa:s.Hsluv.refY*Math.pow((r+16)/116,3)},s.Hsluv.xyzToLuv=function(r){var t=r[0],n=r[1],e=r[2],u=t+15*n+3*e,o=4*t,l=9*n;0!=u?(o/=u,l/=u):(o=NaN,l=NaN);var a=s.Hsluv.yToL(n);return 0==a?[0,0,0]:[a,13*a*(o-s.Hsluv.refU),13*a*(l-s.Hsluv.refV)]},s.Hsluv.luvToXyz=function(r){var t=r[0],n=r[1],e=r[2];if(0==t)return[0,0,0];var u=n/(13*t)+s.Hsluv.refU,o=e/(13*t)+s.Hsluv.refV,l=s.Hsluv.lToY(t),a=0-9*l*u/((u-4)*o-u*o);return[a,l,(9*l-15*o*l-o*a)/(3*o)]},s.Hsluv.luvToLch=function(r){var t,n=r[0],e=r[1],u=r[2],o=Math.sqrt(e*e+u*u);if(o<1e-8)t=0;else{t=180*Math.atan2(u,e)/3.141592653589793,t<0&&(t=360+t)}return[n,o,t]},s.Hsluv.lchToLuv=function(r){var t=r[0],n=r[1],e=r[2],u=e/360*2*Math.PI;return[t,Math.cos(u)*n,Math.sin(u)*n]},s.Hsluv.hsluvToLch=function(r){var t=r[0],n=r[1],e=r[2];return e>99.9999999?[100,0,t]:e<1e-8?[0,0,t]:[e,s.Hsluv.maxChromaForLH(e,t)/100*n,t]},s.Hsluv.lchToHsluv=function(r){var t=r[0],n=r[1],e=r[2];return t>99.9999999?[e,0,100]:t<1e-8?[e,0,0]:[e,n/s.Hsluv.maxChromaForLH(t,e)*100,t]},s.Hsluv.hpluvToLch=function(r){var t=r[0],n=r[1],e=r[2];return e>99.9999999?[100,0,t]:e<1e-8?[0,0,t]:[e,s.Hsluv.maxSafeChromaForL(e)/100*n,t]},s.Hsluv.lchToHpluv=function(r){var t=r[0],n=r[1],e=r[2];return t>99.9999999?[e,0,100]:t<1e-8?[e,0,0]:[e,n/s.Hsluv.maxSafeChromaForL(t)*100,t]},s.Hsluv.rgbToHex=function(r){for(var t="#",n=0,e=r.length;n<e;){var u=n++,o=r[u];t+=a.hex(Math.round(255*o),2).toLowerCase()}return t},s.Hsluv.hexToRgb=function(r){return r=r.toUpperCase(),[l.parseInt("0x"+o.substr(r,1,2))/255,l.parseInt("0x"+o.substr(r,3,2))/255,l.parseInt("0x"+o.substr(r,5,2))/255]},s.Hsluv.lchToRgb=function(r){return s.Hsluv.xyzToRgb(s.Hsluv.luvToXyz(s.Hsluv.lchToLuv(r)))},s.Hsluv.rgbToLch=function(r){return s.Hsluv.luvToLch(s.Hsluv.xyzToLuv(s.Hsluv.rgbToXyz(r)))},s.Hsluv.hsluvToRgb=function(r){return s.Hsluv.lchToRgb(s.Hsluv.hsluvToLch(r))},s.Hsluv.rgbToHsluv=function(r){return s.Hsluv.lchToHsluv(s.Hsluv.rgbToLch(r))},s.Hsluv.hpluvToRgb=function(r){return s.Hsluv.lchToRgb(s.Hsluv.hpluvToLch(r))},s.Hsluv.rgbToHpluv=function(r){return s.Hsluv.lchToHpluv(s.Hsluv.rgbToLch(r))},s.Hsluv.hsluvToHex=function(r){return s.Hsluv.rgbToHex(s.Hsluv.hsluvToRgb(r))},s.Hsluv.hpluvToHex=function(r){return s.Hsluv.rgbToHex(s.Hsluv.hpluvToRgb(r))},s.Hsluv.hexToHsluv=function(r){return s.Hsluv.rgbToHsluv(s.Hsluv.hexToRgb(r))},s.Hsluv.hexToHpluv=function(r){return s.Hsluv.rgbToHpluv(s.Hsluv.hexToRgb(r))},s.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],s.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],s.Hsluv.refY=1,s.Hsluv.refU=.19783000664283,s.Hsluv.refV=.46831999493879,s.Hsluv.kappa=903.2962962,s.Hsluv.epsilon=.0088564516;var v={hsluvToRgb:s.Hsluv.hsluvToRgb,rgbToHsluv:s.Hsluv.rgbToHsluv,hpluvToRgb:s.Hsluv.hpluvToRgb,rgbToHpluv:s.Hsluv.rgbToHpluv,hsluvToHex:s.Hsluv.hsluvToHex,hexToHsluv:s.Hsluv.hexToHsluv,hpluvToHex:s.Hsluv.hpluvToHex,hexToHpluv:s.Hsluv.hexToHpluv};r.exports=v,e=v,void 0!==(u="function"==typeof e?e.call(t,n,t,r):e)&&(r.exports=u),"undefined"!=typeof window&&(window.hsluv=v)}()}]);