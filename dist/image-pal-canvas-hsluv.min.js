!function(r){var e={};function t(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return r[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=r,t.c=e,t.d=function(r,e,n){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:n})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var o in r)t.d(n,o,function(e){return r[e]}.bind(null,o));return n},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=7)}([function(r,e,t){"use strict";function n(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function o(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(t,!0).forEach(function(e){u(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):n(t).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function u(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function l(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},u=Object.keys(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}r.exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r.hasAlpha,t=r.maxColors,n=r.minDensity,u=r.cubicCells,a=r.mean,s=r.order,i=l(r,["hasAlpha","maxColors","minDensity","cubicCells","mean","order"]);if("boolean"!=typeof e)throw new Error("options.hasAlpha is required");var c=o({hasAlpha:e,maxColors:Math.min(Math.max(1,t),32)||10,minDensity:Math.min(Math.max(.001,n),1)||.005,cubicCells:Math.min(Math.max(3,u),4)||4,mean:!1!==a,order:"density"===s?s:"distance"},i);return c}},function(r,e,t){"use strict";function n(r,e){return[Math.max(0,Math.ceil(Math.min(r[0],1)*e)-1),Math.max(0,Math.ceil(Math.min(r[1],1)*e)-1),Math.max(0,Math.ceil(Math.min(r[2],1)*e)-1)]}function o(r){var e=r.toString(16);return 1===e.length?"0"+e:e}function u(r){return r.distance=r.xyz[0]+10*r.xyz[1]+100*r.xyz[2]}r.exports=function(r,e){var t,l,a,s,i=e.hasAlpha,c=e.maxColors,v=e.minDensity,h=e.cubicCells,f=e.mean,p=e.order,H=e.applyColor,g=e.colorPlacer,b=new Array(h),y=new Array(Math.pow(h,3));for(t=0,s=0;t<h;t++)for(b[t]=new Array(h),l=0;l<h;l++)for(b[t][l]=new Array(h),a=0;a<h;a++,s++)b[t][l][a]=y[s]=[];var m,d,T=i?4:3,O=Math.floor(r.length/T);for(m=0,s=0;s<O;m+=T,s++){d={rgb:[r[m],r[m+1],r[m+2]],alpha:i?r[m+3]:255},H&&H(d),d.xyz=g(d),d.distance=u(d);var x=n(d.xyz,h);b[x[0]][x[1]][x[2]].push(d)}y.sort(function(r,e){return r.length>e.length?-1:r.length<e.length?1:0});var P=y.map(function(r){return{density:r.length/O,colors:r}});(P=P.filter(function(r){return r.density>=v})).length>c&&(P=P.slice(0,c));var w=P.map(function(r){if(f){var e=r.colors.reduce(function(r,e){return r.r+=e.rgb[0],r.g+=e.rgb[1],r.b+=e.rgb[2],r},{r:0,g:0,b:0}),t=r.colors.length;d={rgb:[Math.min(255,Math.round(e.r/t)),Math.min(255,Math.round(e.g/t)),Math.min(255,Math.round(e.b/t))],alpha:r.colors[0].alpha},H&&H(d),d.xyz=g(d)}else{var n=r.colors.sort(function(r,e){return r.distance>e.distance?-1:r.distance<e.distance?1:0});d=n[Math.floor(r.colors.length/2)]}var l,a,s;return d.hex=(l=d.rgb[0],a=d.rgb[1],s=d.rgb[2],"#"+o(l)+o(a)+o(s)),d.density=r.density,d.distance=u(d),d});return"distance"===p&&(w=w.sort(function(r,e){return r.distance>e.distance?-1:r.distance<e.distance?1:0})),w}},function(r,e){function t(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function n(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function o(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},u=Object.keys(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}r.exports=function(r,e,u){var l=e.srcUrl,a=e.width,s=e.height,i=e.imageEl,c=e.canvasEl,v=e.inputEl,h=e.onProcess,f=o(e,["srcUrl","width","height","imageEl","canvasEl","inputEl","onProcess"]);s||(a=a||100);var p,H=i||new Image,g=c||document.createElement("canvas"),b=g.getContext("2d"),y=function(){if(a){var e=H.naturalHeight/H.naturalWidth;g.width=a,g.height=Math.round(a*e)}else{var o=H.naturalWidth/H.naturalHeight;g.height=s,g.width=Math.round(s*o)}b.drawImage(H,0,0,g.width,g.height);var l=b.getImageData(0,0,g.width,g.height);"function"==typeof h&&h();var i=r(l.data,function(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?t(o,!0).forEach(function(e){n(r,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(o).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}({hasAlpha:!0},f));u(null,i)},m=function(r,e){return u(e)};return H.addEventListener("load",y,!1),H.addEventListener("error",m,!1),l&&(H.crossOrigin="Anonymous",H.src=l),v&&(p=function(r){var e=new FileReader;e.onload=function(r){H.src=r.target.result},e.readAsDataURL(r.target.files[0])},v.addEventListener("change",p,!1)),H.complete&&H.naturalWidth&&H.naturalHeight&&y(),{unregister:function(){H.removeEventListener("load",y,!1),H.removeEventListener("error",m,!1),p&&v.removeEventListener("change",p,!1)}}}},,function(r,e,t){var n=t(8),o=t(2);r.exports=function(r,e){o(n,r,e)}},,,function(r,e,t){"use strict";t.r(e);var n=t(4),o=t.n(n);window.imagePalCanvasHsluv=o.a},function(r,e,t){"use strict";function n(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function o(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function u(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},u=Object.keys(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}return o}var l=t(0),a=t(1),s=t(9).rgbToHsluv;function i(r){r.hsluv=s([r.rgb[0]/256,r.rgb[1]/256,r.rgb[2]/256])}function c(r){var e=r.hsluv[2]<8||r.hsluv[2]>97;return[e?0:r.hsluv[0]/360,e?0:r.hsluv[1]/100,r.hsluv[2]/100]}r.exports=function(r,e){var t=e.applyColor,s=e.colorPlacer,v=u(e,["applyColor","colorPlacer"]),h=function(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(t,!0).forEach(function(e){o(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):n(t).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}({applyColor:t||i,colorPlacer:s||c},l(v));return a(r,h)}},function(r,e){var t=t||{};t.Geometry=function(){},t.Geometry.intersectLineLine=function(r,e){var t=(r.intercept-e.intercept)/(e.slope-r.slope);return{x:t,y:r.slope*t+r.intercept}},t.Geometry.distanceFromOrigin=function(r){return Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))},t.Geometry.distanceLineFromOrigin=function(r){return Math.abs(r.intercept)/Math.sqrt(Math.pow(r.slope,2)+1)},t.Geometry.perpendicularThroughPoint=function(r,e){var t=-1/r.slope;return{slope:t,intercept:e.y-t*e.x}},t.Geometry.angleFromOrigin=function(r){return Math.atan2(r.y,r.x)},t.Geometry.normalizeAngle=function(r){var e=2*Math.PI;return(r%e+e)%e},t.Geometry.lengthOfRayUntilIntersect=function(r,e){return e.intercept/(Math.sin(r)-e.slope*Math.cos(r))},t.Hsluv=function(){},t.Hsluv.getBounds=function(r){for(var e=[],n=Math.pow(r+16,3)/1560896,o=n>t.Hsluv.epsilon?n:r/t.Hsluv.kappa,u=0;u<3;)for(var l=u++,a=t.Hsluv.m[l][0],s=t.Hsluv.m[l][1],i=t.Hsluv.m[l][2],c=0;c<2;){var v=c++,h=(284517*a-94839*i)*o,f=(838422*i+769860*s+731718*a)*r*o-769860*v*r,p=(632260*i-126452*s)*o+126452*v;e.push({slope:h/p,intercept:f/p})}return e},t.Hsluv.maxSafeChromaForL=function(r){for(var e=t.Hsluv.getBounds(r),n=1/0,o=0;o<e.length;){var u=e[o];++o;var l=t.Geometry.distanceLineFromOrigin(u);n=Math.min(n,l)}return n},t.Hsluv.maxChromaForLH=function(r,e){for(var n=e/360*Math.PI*2,o=t.Hsluv.getBounds(r),u=1/0,l=0;l<o.length;){var a=o[l];++l;var s=t.Geometry.lengthOfRayUntilIntersect(n,a);s>=0&&(u=Math.min(u,s))}return u},t.Hsluv.dotProduct=function(r,e){for(var t=0,n=0,o=r.length;n<o;){var u=n++;t+=r[u]*e[u]}return t},t.Hsluv.fromLinear=function(r){return r<=.0031308?12.92*r:1.055*Math.pow(r,.4166666666666667)-.055},t.Hsluv.toLinear=function(r){return r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92},t.Hsluv.xyzToRgb=function(r){return[t.Hsluv.fromLinear(t.Hsluv.dotProduct(t.Hsluv.m[0],r)),t.Hsluv.fromLinear(t.Hsluv.dotProduct(t.Hsluv.m[1],r)),t.Hsluv.fromLinear(t.Hsluv.dotProduct(t.Hsluv.m[2],r))]},t.Hsluv.rgbToXyz=function(r){var e=[t.Hsluv.toLinear(r[0]),t.Hsluv.toLinear(r[1]),t.Hsluv.toLinear(r[2])];return[t.Hsluv.dotProduct(t.Hsluv.minv[0],e),t.Hsluv.dotProduct(t.Hsluv.minv[1],e),t.Hsluv.dotProduct(t.Hsluv.minv[2],e)]},t.Hsluv.yToL=function(r){return r<=t.Hsluv.epsilon?r/t.Hsluv.refY*t.Hsluv.kappa:116*Math.pow(r/t.Hsluv.refY,.3333333333333333)-16},t.Hsluv.lToY=function(r){return r<=8?t.Hsluv.refY*r/t.Hsluv.kappa:t.Hsluv.refY*Math.pow((r+16)/116,3)},t.Hsluv.xyzToLuv=function(r){var e=r[0],n=r[1],o=e+15*n+3*r[2],u=4*e,l=9*n;0!=o?(u/=o,l/=o):(u=NaN,l=NaN);var a=t.Hsluv.yToL(n);return 0==a?[0,0,0]:[a,13*a*(u-t.Hsluv.refU),13*a*(l-t.Hsluv.refV)]},t.Hsluv.luvToXyz=function(r){var e=r[0],n=r[1],o=r[2];if(0==e)return[0,0,0];var u=n/(13*e)+t.Hsluv.refU,l=o/(13*e)+t.Hsluv.refV,a=t.Hsluv.lToY(e),s=0-9*a*u/((u-4)*l-u*l);return[s,a,(9*a-15*l*a-l*s)/(3*l)]},t.Hsluv.luvToLch=function(r){var e,t=r[0],n=r[1],o=r[2],u=Math.sqrt(n*n+o*o);u<1e-8?e=0:(e=180*Math.atan2(o,n)/Math.PI)<0&&(e=360+e);return[t,u,e]},t.Hsluv.lchToLuv=function(r){var e=r[0],t=r[1],n=r[2]/360*2*Math.PI;return[e,Math.cos(n)*t,Math.sin(n)*t]},t.Hsluv.hsluvToLch=function(r){var e=r[0],n=r[1],o=r[2];return o>99.9999999?[100,0,e]:o<1e-8?[0,0,e]:[o,t.Hsluv.maxChromaForLH(o,e)/100*n,e]},t.Hsluv.lchToHsluv=function(r){var e=r[0],n=r[1],o=r[2];return e>99.9999999?[o,0,100]:e<1e-8?[o,0,0]:[o,n/t.Hsluv.maxChromaForLH(e,o)*100,e]},t.Hsluv.hpluvToLch=function(r){var e=r[0],n=r[1],o=r[2];return o>99.9999999?[100,0,e]:o<1e-8?[0,0,e]:[o,t.Hsluv.maxSafeChromaForL(o)/100*n,e]},t.Hsluv.lchToHpluv=function(r){var e=r[0],n=r[1],o=r[2];return e>99.9999999?[o,0,100]:e<1e-8?[o,0,0]:[o,n/t.Hsluv.maxSafeChromaForL(e)*100,e]},t.Hsluv.rgbToHex=function(r){for(var e="#",n=0;n<3;){var o=r[n++],u=Math.round(255*o),l=u%16,a=(u-l)/16|0;e+=t.Hsluv.hexChars.charAt(a)+t.Hsluv.hexChars.charAt(l)}return e},t.Hsluv.hexToRgb=function(r){r=r.toLowerCase();for(var e=[],n=0;n<3;){var o=n++,u=16*t.Hsluv.hexChars.indexOf(r.charAt(2*o+1))+t.Hsluv.hexChars.indexOf(r.charAt(2*o+2));e.push(u/255)}return e},t.Hsluv.lchToRgb=function(r){return t.Hsluv.xyzToRgb(t.Hsluv.luvToXyz(t.Hsluv.lchToLuv(r)))},t.Hsluv.rgbToLch=function(r){return t.Hsluv.luvToLch(t.Hsluv.xyzToLuv(t.Hsluv.rgbToXyz(r)))},t.Hsluv.hsluvToRgb=function(r){return t.Hsluv.lchToRgb(t.Hsluv.hsluvToLch(r))},t.Hsluv.rgbToHsluv=function(r){return t.Hsluv.lchToHsluv(t.Hsluv.rgbToLch(r))},t.Hsluv.hpluvToRgb=function(r){return t.Hsluv.lchToRgb(t.Hsluv.hpluvToLch(r))},t.Hsluv.rgbToHpluv=function(r){return t.Hsluv.lchToHpluv(t.Hsluv.rgbToLch(r))},t.Hsluv.hsluvToHex=function(r){return t.Hsluv.rgbToHex(t.Hsluv.hsluvToRgb(r))},t.Hsluv.hpluvToHex=function(r){return t.Hsluv.rgbToHex(t.Hsluv.hpluvToRgb(r))},t.Hsluv.hexToHsluv=function(r){return t.Hsluv.rgbToHsluv(t.Hsluv.hexToRgb(r))},t.Hsluv.hexToHpluv=function(r){return t.Hsluv.rgbToHpluv(t.Hsluv.hexToRgb(r))},t.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],t.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],t.Hsluv.refY=1,t.Hsluv.refU=.19783000664283,t.Hsluv.refV=.46831999493879,t.Hsluv.kappa=903.2962962,t.Hsluv.epsilon=.0088564516,t.Hsluv.hexChars="0123456789abcdef";var n={hsluvToRgb:t.Hsluv.hsluvToRgb,rgbToHsluv:t.Hsluv.rgbToHsluv,hpluvToRgb:t.Hsluv.hpluvToRgb,rgbToHpluv:t.Hsluv.rgbToHpluv,hsluvToHex:t.Hsluv.hsluvToHex,hexToHsluv:t.Hsluv.hexToHsluv,hpluvToHex:t.Hsluv.hpluvToHex,hexToHpluv:t.Hsluv.hexToHpluv,lchToHpluv:t.Hsluv.lchToHpluv,hpluvToLch:t.Hsluv.hpluvToLch,lchToHsluv:t.Hsluv.lchToHsluv,hsluvToLch:t.Hsluv.hsluvToLch,lchToLuv:t.Hsluv.lchToLuv,luvToLch:t.Hsluv.luvToLch,xyzToLuv:t.Hsluv.xyzToLuv,luvToXyz:t.Hsluv.luvToXyz,xyzToRgb:t.Hsluv.xyzToRgb,rgbToXyz:t.Hsluv.rgbToXyz,lchToRgb:t.Hsluv.lchToRgb,rgbToLch:t.Hsluv.rgbToLch};r.exports=n}]);