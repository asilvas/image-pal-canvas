!function(r){function t(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return r[e].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:e})},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="",t(t.s=3)}([function(r,t,n){"use strict";function e(r,t){var n={};for(var e in r)t.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e]);return n}var a=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r};r.exports=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.hasAlpha,n=r.maxColors,o=r.minDensity,i=r.cubicCells,c=r.mean,l=r.order,s=e(r,["hasAlpha","maxColors","minDensity","cubicCells","mean","order"]);if("boolean"!=typeof t)throw new Error("options.hasAlpha is required");return a({hasAlpha:t,maxColors:Math.min(Math.max(1,n),32)||10,minDensity:Math.min(Math.max(.001,o),1)||.005,cubicCells:Math.min(Math.max(3,i),4)||4,mean:!1!==c,order:"density"===l?l:"distance"},s)}},function(r,t,n){"use strict";function e(r,t){return[Math.max(0,Math.ceil(Math.min(r[0],1)*t)-1),Math.max(0,Math.ceil(Math.min(r[1],1)*t)-1),Math.max(0,Math.ceil(Math.min(r[2],1)*t)-1)]}function a(r){var t=r.toString(16);return 1===t.length?"0"+t:t}function o(r,t,n){return"#"+a(r)+a(t)+a(n)}function i(r){return r.distance=r.xyz[0]+10*r.xyz[1]+100*r.xyz[2]}r.exports=function(r,t){var n=t.hasAlpha,a=t.maxColors,c=t.minDensity,l=t.cubicCells,s=t.mean,u=t.order,h=t.applyColor,f=t.colorPlacer,d=void 0,v=void 0,g=void 0,p=void 0,m=new Array(l),y=new Array(Math.pow(l,3));for(d=0,p=0;d<l;d++)for(m[d]=new Array(l),v=0;v<l;v++)for(m[d][v]=new Array(l),g=0;g<l;g++,p++)m[d][v][g]=y[p]=[];var b=n?4:3,x=void 0,M=void 0,w=Math.floor(r.length/b);for(x=0,p=0;p<w;x+=b,p++){M={rgb:[r[x],r[x+1],r[x+2]],alpha:n?r[x+3]:255},h&&h(M),M.xyz=f(M),M.distance=i(M);var O=e(M.xyz,l);m[O[0]][O[1]][O[2]].push(M)}y.sort(function(r,t){return r.length>t.length?-1:r.length<t.length?1:0});var P=y.map(function(r){return{density:r.length/w,colors:r}});P=P.filter(function(r){return r.density>=c}),P.length>a&&(P=P.slice(0,a));var E=P.map(function(r){if(s){var t=r.colors.reduce(function(r,t){return r.r+=t.rgb[0],r.g+=t.rgb[1],r.b+=t.rgb[2],r},{r:0,g:0,b:0}),n=r.colors.length;M={rgb:[Math.min(255,Math.round(t.r/n)),Math.min(255,Math.round(t.g/n)),Math.min(255,Math.round(t.b/n))],alpha:r.colors[0].alpha},h&&h(M),M.xyz=f(M)}else{var e=r.colors.sort(function(r,t){return r.distance>t.distance?-1:r.distance<t.distance?1:0});M=e[Math.floor(r.colors.length/2)]}return M.hex=o(M.rgb[0],M.rgb[1],M.rgb[2]),M.density=r.density,M.distance=i(M),M});return"distance"===u&&(E=E.sort(function(r,t){return r.distance>t.distance?-1:r.distance<t.distance?1:0})),E}},function(r,t,n){"use strict";function e(r,t){var n={};for(var e in r)t.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e]);return n}var a=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r};r.exports=function(r,t,n){var o=t.srcUrl,i=t.width,c=t.height,l=t.imageEl,s=t.canvasEl,u=t.inputEl,h=t.onProcess,f=e(t,["srcUrl","width","height","imageEl","canvasEl","inputEl","onProcess"]);c||(i=i||100);var d=l||new Image,v=s||document.createElement("canvas"),g=v.getContext("2d"),p=function(){if(i){var t=d.naturalHeight/d.naturalWidth;v.width=i,v.height=Math.round(i*t)}else{var e=d.naturalWidth/d.naturalHeight;v.height=c,v.width=Math.round(c*e)}g.drawImage(d,0,0,v.width,v.height);var o=g.getImageData(0,0,v.width,v.height);"function"==typeof h&&h();var l=r(o.data,a({hasAlpha:!0},f));n(null,l)},m=function(r,t){return n(t)};d.addEventListener("load",p,!1),d.addEventListener("error",m,!1),o&&(d.src=o);var y=void 0;return u&&(y=function(r){var t=new FileReader;t.onload=function(r){d.src=r.target.result},t.readAsDataURL(r.target.files[0])},u.addEventListener("change",y,!1)),d.complete&&d.naturalWidth&&d.naturalHeight&&p(),{unregister:function(){d.removeEventListener("load",p,!1),d.removeEventListener("error",m,!1),y&&u.removeEventListener("change",y,!1)}}}},function(r,t,n){"use strict";var e=n(4),a=function(r){return r&&r.__esModule?r:{default:r}}(e);window.imagePalCanvasRgb=a.default},function(r,t,n){"use strict";var e=n(5),a=n(2);r.exports=function(r,t){a(e,r,t)}},function(r,t,n){"use strict";function e(r,t){var n={};for(var e in r)t.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e]);return n}function a(r){return[r.rgb[0]/256,r.rgb[1]/256,r.rgb[2]/256]}var o=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r},i=n(0),c=n(1);r.exports=function(r,t){var n=t.colorPlacer,l=e(t,["colorPlacer"]),s=o({colorPlacer:n||a},i(l));return c(r,s)}}]);